(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{70:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(18),s=a.n(r),c=a(11),l=a(20),i=a(55),o=a(56),j=a(17),d="HOSPITAL_LIST_REQUEST",u="HOSPITAL_LIST_SUCCESS",p="HOSPITAL_LIST_FAIL",b="ILLNESS_LIST_SUCCESS",h="ILLNESS_LIST_FAIL",O="SET_ILLNESS_ITEM",x="SET_ILLNESS_SEVERITY",v="SET_HOSPITAL_ITEM",g="SET_USERFORM_INFO",m="SAVE_USERINFO_TO_DATABASE_REQUEST",f="SAVE_USERINFO_TO_DATABASE_SUCCESS",y="SAVE_USERINFO_TO_DATABASE_FAIL",S=Object(l.combineReducers)({hospitalList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hospitals:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0,hospitals:[]};case u:return{loading:!1,hospitals:t.payload._embedded.hospitals,page:t.payload.page,pages:t.payload.page.totalPages};case p:return{loading:!1,error:t.payload};default:return e}},illnessList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{illnesses:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0,illnesses:[]};case b:return{loading:!1,illnesses:t.payload._embedded.illnesses,page:t.payload.page,pages:t.payload.page.totalPages};case h:return{loading:!1,error:t.payload};default:return e}},illnessInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{illnessId:t.payload});case x:return Object(j.a)(Object(j.a)({},e),{},{severityLevel:t.payload});case v:return Object(j.a)(Object(j.a)({},e),{},{hospitalId:t.payload});case g:return Object(j.a)(Object(j.a)({},e),{},{userformInfo:t.payload});case m:return{loading:!0};case f:return{loading:!1,success:!0};case y:return{loading:!1,error:t.payload};default:return e}}}),I=localStorage.getItem("illnessId")?JSON.parse(localStorage.getItem("illnessId")):1,L=localStorage.getItem("hospitalId")?JSON.parse(localStorage.getItem("hospitalId")):1,C={illnessInfo:{illnessId:I,severityLevel:localStorage.getItem("severityLevel")?JSON.parse(localStorage.getItem("severityLevel")):0,hospitalId:L,userformInfo:localStorage.getItem("userformInfo")?JSON.parse(localStorage.getItem("userformInfo")):[]}},E=[i.a],T=Object(l.createStore)(S,C,Object(o.composeWithDevTools)(l.applyMiddleware.apply(void 0,E))),_=(a(70),a(71),a(97)),N=a(28),A=a(6),k=a(103),w=a(57),F=a(1);var G=function(){return Object(F.jsx)("header",{children:Object(F.jsx)(k.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(F.jsx)(_.a,{children:Object(F.jsx)(w.LinkContainer,{to:"/",children:Object(F.jsx)(k.a.Brand,{href:"/",children:"Hospital Appointment System"})})})})})},R=a(98),J=a(60);var B=function(){return Object(F.jsx)("footer",{children:Object(F.jsx)(_.a,{children:Object(F.jsx)(R.a,{children:Object(F.jsx)(J.a,{className:"text-center py-3",children:" Copyright \xa9 JING"})})})})},P=a(13),U=a(102),D=a(101),H=a(99),M=a(104),V=a(21),W=a.n(V),z=a(34),Q=a(35),Z=a.n(Q);var Y=function(e){var t=e.hospital,a=e.severity,n=e.history;console.log(a);var r=t.waitingList[a],s=r.patientCount*r.averageProcessTime,l=Object(c.b)();return Object(F.jsx)(M.a,{className:"my-3 p-3 rounded",children:Object(F.jsx)(M.a.Body,{children:Object(F.jsxs)(R.a,{className:"justify-content-md-center",children:[Object(F.jsx)(J.a,{children:Object(F.jsx)(M.a.Title,{as:"div",children:Object(F.jsx)("strong",{children:t.name})})}),Object(F.jsx)(J.a,{md:"auto",children:Object(F.jsx)(M.a.Text,{as:"div",children:Object(F.jsxs)("p",{children:["Wait time: ",s," mins"]})})}),Object(F.jsx)(J.a,{xs:!0,lg:"2",children:Object(F.jsx)(H.a,{onClick:function(){var e;console.log("handsubmit"),l((e=t.id,function(t){t({type:v,payload:e}),localStorage.setItem("hospitalId",JSON.stringify(e))})),n.push("/userInfoForm")},children:"Choose"})})]})})})},q=a(61),K=a(106);var X=function(e){var t=e.pages,a=e.page;return t>1&&Object(F.jsx)(K.a,{children:Object(q.a)(Array(t).keys()).map((function(e){return Object(F.jsx)(K.a.Item,{active:e+1===a,children:e+1})}))})},$=a(100);var ee=function(){return Object(F.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(F.jsx)("span",{className:"sr-only",children:"Loading..."})})},te=a(105);var ae=function(e){var t=e.variant,a=e.children;return Object(F.jsx)(te.a,{variant:t,children:a})};var ne=function(e){var t=e.history,a=Object(c.b)(),r=Object(c.c)((function(e){return e.hospitalList})),s=Object(c.c)((function(e){return e.illnessList})),l=s.error,i=s.loading,o=s.illnesses,j=(s.page,s.pages,r.error),v=r.loading,g=r.hospitals,m=r.page,f=r.pages,y=Object(n.useState)(!1),S=Object(P.a)(y,2),I=S[0],L=S[1],C=Object(n.useState)(1),E=Object(P.a)(C,2),T=E[0],_=E[1],N=Object(n.useState)(0),A=Object(P.a)(N,2),k=A[0],w=A[1],G=Object(n.useState)("Mortal Cold"),R=Object(P.a)(G,2),J=R[0],B=R[1];return Object(n.useEffect)((function(){a(function(){var e=Object(z.a)(W.a.mark((function e(t){var a,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ILLNESS_LIST_REQUEST"}),e.next=4,Z.a.get("http://dmmw-api.australiaeast.cloudapp.azure.com:8080/illnesses");case 4:a=e.sent,n=a.data,console.log(n),t({type:b,payload:n}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t({type:h,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[a]),Object(n.useEffect)((function(){L(!1)}),[T,k]),Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"Book Appointment"}),i?Object(F.jsx)(ee,{}):l?Object(F.jsx)(ae,{variant:"danger",children:l}):Object(F.jsxs)(U.a,{onSubmit:function(e){var t;e.preventDefault(),a((t=T,function(e){e({type:O,payload:t}),localStorage.setItem("illnessId",JSON.stringify(t))})),a(function(e){return function(t){t({type:x,payload:e}),localStorage.setItem("severityLevel",JSON.stringify(e))}}(k)),a(function(){var e=Object(z.a)(W.a.mark((function e(t){var a,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d}),e.next=4,Z.a.get("http://dmmw-api.australiaeast.cloudapp.azure.com:8080/hospitals");case 4:a=e.sent,n=a.data,console.log(n),t({type:u,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:p,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),L(!0)},children:[Object(F.jsxs)(U.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(F.jsx)(U.a.Label,{children:"What is your illness?"}),Object(F.jsx)(U.a.Control,{as:"select",name:"illness",onChange:function(e){e.preventDefault(),_(e.target.value),B(o[e.target.value-1].illness.name)},value:T,children:null===o||void 0===o?void 0:o.map((function(e){return Object(F.jsx)("option",{value:e.illness.id,children:e.illness.name},e.illness.id)}))})]}),Object(F.jsxs)(U.a.Group,{children:[Object(F.jsx)(U.a.Label,{children:"What is the severity?"}),Object(F.jsx)("br",{}),Object(F.jsxs)(D.a,{"aria-label":"Basic example",className:" button-block",name:"severity",value:k,onClick:function(e){e.preventDefault(),w(e.target.value)},children:[Object(F.jsx)(H.a,{variant:"outline-secondary",value:0,children:"\ud83d\ude42Level 0"}),Object(F.jsx)(H.a,{variant:"outline-secondary",value:1,children:"\ud83d\ude10Level 1"}),Object(F.jsx)(H.a,{variant:"outline-secondary",value:2,children:"\ud83d\ude16Level 2"}),Object(F.jsx)(H.a,{variant:"outline-secondary",value:3,children:"\ud83d\ude29Level 3"}),Object(F.jsx)(H.a,{variant:"outline-secondary",value:4,children:"\ud83e\udd2fLevel 4"})]})]}),Object(F.jsx)(H.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(F.jsx)("br",{}),I?v?Object(F.jsx)(ee,{}):j?Object(F.jsx)(ae,{variant:"danger",children:j}):Object(F.jsxs)(U.a,{children:[Object(F.jsxs)(U.a.Label,{children:["Our Sugguested Hospitals (Illness: ",J,", Severity:",k,")"]}),g.map((function(e){return Object(F.jsx)(Y,{hospital:e,severity:k,history:t},e.id)})),Object(F.jsx)(X,{page:m,pages:f})]}):""]})};var re=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(P.a)(a,2),s=r[0],l=r[1],i=Object(n.useState)(""),o=Object(P.a)(i,2),j=o[0],d=o[1],u=Object(n.useState)(""),p=Object(P.a)(u,2),b=p[0],h=p[1],O=Object(n.useState)(""),x=Object(P.a)(O,2),v=x[0],S=x[1],I=Object(n.useState)(""),L=Object(P.a)(I,2),C=L[0],E=L[1],T=Object(n.useState)(""),_=Object(P.a)(T,2),N=_[0],A=_[1],k=Object(n.useState)(""),w=Object(P.a)(k,2),G=w[0],R=w[1],B=Object(c.c)((function(e){return e.illnessInfo})),D=B.illnessId,M=B.severityLevel,V=B.hospitalId,Q=Object(c.b)();return Object(F.jsx)("div",{children:Object(F.jsxs)(U.a,{onSubmit:function(e){var a,n;Q((a={firstname:s,lastname:j,email:b,address:v,city:C,state:N,zip:G,illnessId:D,severityLevel:M,hospitalId:V},function(){var e=Object(z.a)(W.a.mark((function e(t){var n,r,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),n={headers:{"Content-type":"application/json"}},e.next=5,Z.a.post("api/adduserinfo/",a,n);case 5:r=e.sent,s=r.data,t({type:f,payload:s}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t({type:y,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),Q((n={firstname:s,lastname:j,email:b,address:v,city:C,state:N,zip:G},function(e){e({type:g,payload:n}),localStorage.setItem("userformInfo",JSON.stringify(n))})),t.push("/submitresult")},children:[Object(F.jsx)("h1",{children:"Please add your information"}),Object(F.jsxs)(U.a.Row,{children:[Object(F.jsxs)(U.a.Group,{as:J.a,controlId:"inlineFormInputName",children:[Object(F.jsx)(U.a.Label,{children:"First Name"}),Object(F.jsx)(U.a.Control,{type:"type",placeholder:"First Name",value:s,onChange:function(e){return l(e.target.value)}})]}),Object(F.jsxs)(U.a.Group,{as:J.a,controlId:"inlineFormInputName",children:[Object(F.jsx)(U.a.Label,{children:"Last Name"}),Object(F.jsx)(U.a.Control,{type:"text",placeholder:"Last Name",value:j,onChange:function(e){return d(e.target.value)}})]})]}),Object(F.jsxs)(U.a.Group,{controlId:"formGridEmail",children:[Object(F.jsx)(U.a.Label,{children:"Email"}),Object(F.jsx)(U.a.Control,{type:"email",placeholder:"Enter email",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(F.jsxs)(U.a.Group,{controlId:"formGridAddress1",children:[Object(F.jsx)(U.a.Label,{children:"Address"}),Object(F.jsx)(U.a.Control,{type:"text",placeholder:"1234 Main St",value:v,onChange:function(e){return S(e.target.value)}})]}),Object(F.jsxs)(U.a.Row,{children:[Object(F.jsxs)(U.a.Group,{as:J.a,controlId:"formGridCity",children:[Object(F.jsx)(U.a.Label,{children:"City"}),Object(F.jsx)(U.a.Control,{type:"text",value:C,onChange:function(e){return E(e.target.value)}})]}),Object(F.jsxs)(U.a.Group,{as:J.a,controlId:"formGridState",children:[Object(F.jsx)(U.a.Label,{children:"State"}),Object(F.jsxs)(U.a.Control,{as:"select",defaultValue:"Choose...",onChange:function(e){return A(e.target.value)},children:[Object(F.jsx)("option",{children:"Choose..."}),Object(F.jsx)("option",{children:"New South Wales"}),Object(F.jsx)("option",{children:"Victoria"}),Object(F.jsx)("option",{children:"Queensland"}),Object(F.jsx)("option",{children:"South Australia"}),Object(F.jsx)("option",{children:"Western Australia"}),Object(F.jsx)("option",{children:"Tasmania"}),Object(F.jsx)("option",{children:"Northern Territory"}),Object(F.jsx)("option",{children:"Australian Capital Territory"})]})]}),Object(F.jsxs)(U.a.Group,{as:J.a,controlId:"formGridZip",children:[Object(F.jsx)(U.a.Label,{children:"Zip"}),Object(F.jsx)(U.a.Control,{type:"number",value:G,onChange:function(e){return R(e.target.value)}})]})]}),Object(F.jsx)(H.a,{variant:"primary",type:"submit",children:"Submit"})]})})};var se=function(e){var t=e.history,a=Object(c.c)((function(e){return e.illnessInfo})),n=a.loading,r=a.error,s=function(){t.push("/")};return Object(F.jsxs)("div",{children:[n?Object(F.jsx)(ee,{}):r?Object(F.jsx)(ae,{variant:"danger",children:r}):Object(F.jsx)(ae,{children:"Submit success"}),r?Object(F.jsx)(H.a,{onClick:s,children:"Try Again"}):Object(F.jsx)(H.a,{onClick:s,children:"Book another"})]})};var ce=function(){return Object(F.jsxs)(N.HashRouter,{children:[Object(F.jsx)(G,{}),Object(F.jsx)("main",{className:"py-3",children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(A.d,{path:"/",component:ne,exact:!0}),Object(F.jsx)(A.d,{path:"/userInfoForm",component:re,exact:!0}),Object(F.jsx)(A.d,{path:"/submitresult",component:se,exact:!0})]})}),Object(F.jsx)(B,{})]})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,107)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};s.a.render(Object(F.jsx)(c.a,{store:T,children:Object(F.jsx)(ce,{})}),document.getElementById("root")),le()}},[[95,1,2]]]);
//# sourceMappingURL=main.64ecb831.chunk.js.map